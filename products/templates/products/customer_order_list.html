{% extends 'base.html' %}

{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'products/style.css' %}">
{% endblock %}

{% block content %}

<div class="container mt-4">
    <h1>Purchased Products</h1>
    <div class="card-body search-form mt-4">
      <form method="GET">
        {{order_filter.form}}
        <input type="submit" class="btn btn-primary" value="Search">
      </form>
    </div>
    <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col">Product</th>
            <th scope="col">Provider</th>
            <th scope="col">Status</th>
            <th scope="col">Quantity</th>
            <th scope="col">Total</th>
            <th scope="col">Cancel Order</th>
          </tr>
        </thead>
        <tbody>
        {% for order in orders %}  
          <tr>
            <td>{{order.product}}</td>
            <td>{{order.provider}}</td>
            <td>{{order.status}}</td>
            <td>{{order.quantity}}</td>
            <td>${{order.total}}</td>
            <td><a class="btn btn-danger" href="{% url 'products:delete_order' order.pk %}">Cancel</a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
</div>

{% endblock %}